import { DockerInstanceProps, DockerInstanceMode, Setting } from '@octopuscentral/types';
import EventEmitter from 'node:events';
import { CLIServer } from './CLIServer';
import { Database } from './Database';
import { Socket } from './Socket';
import { Docker } from './Docker';
import { Instance } from './Instance';
import { CLIClient } from './CLIClient';
export { Docker, Socket, Instance, CLIClient };
export declare class Controller extends EventEmitter {
    #private;
    readonly serviceName: string;
    instancesFetchInterval: number;
    readonly database: Database;
    readonly docker: Docker;
    readonly socket: Socket;
    readonly cli: CLIServer;
    get instances(): Instance[];
    get running(): boolean;
    constructor(serviceName: string, databaseUrl: string, instanceDockerProps: DockerInstanceProps);
    addInstance(instance: Instance, overwrite?: boolean): void;
    private addAndSetupInstance;
    createInstance(): Promise<Instance>;
    updateInstanceSettings(instance: Instance, settings: Setting[]): Promise<void>;
    getInstance(id: number): Instance | undefined;
    removeInstance(instance: Instance): void;
    private loadInstances;
    fetchSyncInstances(): Promise<Instance[]>;
    updateInstanceSocketHostname(instance: Instance, socketHostname: string, autoReconnect?: boolean): Promise<void>;
    connectInstances(): Promise<void>;
    startInstance(instance: Instance, mode?: DockerInstanceMode, timeout?: number): Promise<boolean>;
    stopInstance(instance: Instance): Promise<boolean>;
    init(): Promise<void>;
    start(): Promise<void>;
    private runInterval;
    destroy(): Promise<void>;
}
